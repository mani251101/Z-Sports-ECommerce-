<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    </head>
    <body>

        <section class="py-1 product" *ngIf="details">
            <div class="container px-2 px-lg-5 my-5" >
                <div class="row gx-4 gx-lg-5 align-items-center">
                  <div class="container">
                    <div class="row gx-5">
                      <aside class="col-lg-6">
                        <div class="rounded-4 mb-3 d-flex justify-content-center">
                          <a>
                            <img style="max-width: 100%; max-height: 100vh;" class="rounded-4 mainimage" src="application/wwwroot/ProductImage/{{details.imageUrl}}" />
                          </a>
                        </div>
                        <div class="d-flex justify-content-center mb-4">
                          <a>
                            <img width="60" height="60" class="border rounded-2" src="application/wwwroot/ProductImage/{{details.imageUrl1}}"/>
                          </a>&nbsp;&nbsp;&nbsp;
                          <a>
                            <img width="60" height="60" class="border rounded-2" src="application/wwwroot/ProductImage/{{details.imageUrl2}}" />
                          </a>&nbsp;&nbsp;&nbsp;
                          <a>
                            <img width="60" height="60" class="border rounded-2" src="application/wwwroot/ProductImage/{{details.imageUrl3}}" />
                          </a>
                        </div>
                      </aside>
                      <div class="col-md-6">
                        <h3>{{details.productName}}</h3>
                        <h6 *ngIf="details.stocksAvailability === '0'" style="color: red;">Currently product unavailable</h6>
                        <div class="fs-5 mb-5">
                            <span>{{details.productPrice | currency:'INR'}}</span>
                        </div>
                        <p>Description:</p>
                        <p class="lead">{{details.description}}</p><br>
                        <p>Highlights: </p>
                        <p id="content">{{details.highlights}}</p><br>
                        <div class="d-flex">
                            <button *ngIf="details.stocksAvailability > 0" (click)="cart(details)" class="btn btn-primary flex-shrink-0" type="button">
                                <i class="bi-cart-fill me-1"></i>
                                Add to cart
                            </button>

                            <button *ngIf="details.stocksAvailability === '0'" class="btn btn-warning flex-shrink-0" type="button">
                              <i class="bi-cart-fill me-1"></i>
                              Out of Stock
                          </button>&nbsp;&nbsp;&nbsp;
                          <button (click)="notifyMe()" *ngIf="details.stocksAvailability === '0'" class="btn btn-success flex-shrink-0" type="button">
                            <i class="bi bi-bell"></i>
                          notify me
                        </button>
                        </div>

                    </div>
                    </div>
                  </div>
                </div>
            </div>
        </section>

        <section class="py-5 bg-light" >
            <div class="container px-4 px-lg-5 mt-5">
                <h2 class="fw-bolder mb-4">Related products <br><h5 style="margin-left: 1108px;">View More</h5></h2>
                <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">

                    <ng-container *ngFor="let item of relatedProduct">
                      <div class="col mb-5" *ngIf='details.productId !== item.productId' >
                        <div class="card h-100">
                            <img class="card-img" src="application/wwwroot/ProductImage/{{item.imageUrl}}" />
                            <div class="card-body p-4">
                                <div class="text-center">
                                    <h6>{{item.productName}}</h6>
                                    {{item.productPrice | currency:'INR'}}
                                </div>
                            </div>
                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                <div class="text-center"><a class="btn btn-outline-dark mt-auto">View Details</a></div>
                            </div>
                        </div>
                    </div>

                  </ng-container>
                </div>
            </div>
        </section>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    </body>
</html>
